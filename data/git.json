{
    "Heading1" : "Git",
    "Contents" :
    [
        {
            "Subtitle" : "Git user configs",
            "Intro" : "When you regularly do work on computers that other users use.",
            "Cheats" : [
                {
                    "Explanation" : "Unset user.name and user.email from git globally and locally. Unsets only for the windows user that runs this command and the local repo, where this is run. Does not unset global configs of other windows users in the machine.",
                    "Cheat" : "git config --local --unset user.name\ngit config --local --unset user.email\ngit config --global --unset user.name\ngit config --global --unset user.email",
                    "Class" : "command-line language-git"
                },
                {
                    "Explanation" : "Set your github user in your windows user globally.",
                    "Cheat" : "git config --global user.name 'MyGitHubUserName'\ngit config --global user.email 'my.email@address.com'",
                    "Class" : "command-line language-git"
                },
                {
                    "Explanation" : "Edit commit author if you cannot set git config globally. This bypasses even the user config set in --local. Use this when you are not the only one with access to this machine.",
                    "Cheat" : "git commit --author='Author Name <email@address.com>' -m '<Enter a commit message>'",
                    "Class" : "command-line language-git"
                }
            ]
        },
        {
            "Subtitle" : "Edit commit message",
            "Intro" : "Small edits to commit messages. Amending the commit message changes the commit sha, thus amending pushed commits of branches edited simultaneously by multiple people will cause 'unrelated histories' merge conflicts.",
            "Cheats" : [
                {
                    "Explanation" : "Latest unpushed commit.",
                    "Cheat" : "git commit --amend -m '<insert the new commit message>'",
                    "Class" : "command-line language-git"
                }
            ]
        },
        {
            "Subtitle" : "'Undo' bad commits",
            "Intro" : "Recourse depend on whether the commit was pushed or not and if it was merge commit or regular commit.",
            "Cheats" : [
                {
                    "Explanation" : "Unpushed regular commit, but keep changes",
                    "Cheat" : "git reset --soft HEAD~1",
                    "Class" : "command-line language-git"
                },
                {
                    "Explanation" : "(Avoid using this) Unpushed regular commit. Trash the changes.",
                    "Cheat" : "git reset --hard HEAD~1",
                    "Class" : "command-line language-git"
                },
                {
                    "Explanation" : "Pushed regular commit",
                    "Cheat" : "git revert -- <insert commit id you want to flip>",
                    "Class" : "command-line language-git"
                }
            ]
        },
        {
            "Subtitle" : "Merge commit went sideways",
            "Intro" : "This is most likely is going to take relatively long time to fix correctly. You may also need help with this and/or may need to notify someone (to later revert the reverted merge commit if necessary).",
            "Cheats" : [
                {
                    "Explanation" : "Unpushed merge commit. Git reset might work, but it needs different flags. Revert is complicated, avoid that, if possible. Hopefully there is no or only few unpushed changes before the bad merge as it could just be easier to restore the state from the remote repository.",
                    "Cheat" : "Depends. Not sure.",
                    "Class" : "command-line language-git"
                },
                {
                    "Explanation" : "Pushed merge commit. Revert is not ctrl+Z but instead it states that the changes in this commit are abandoned. In the case of a merge commit, revert states that all the commits from the source branch are abandoned. If the source branch containing the reverted commits is later merged back, revert the reverted merge before the new merge. Otherwise the commits before the first merge are abandoned.",
                    "Cheat" : "git revert -m 1/2 <insert commit you want to get to in the parent branch>",
                    "Class" : "command-line language-git"
                }
            ]
        },
        {
            "Subtitle" : "Git log commands",
            "Intro" : "Self explanatory subtitle",
            "Cheats" : [
                {
                    "Explanation" : "Searching for word within any file from history",
                    "Cheat" : "git log -S",
                    "Class" : "command-line language-git"
                },
                {
                    "Explanation" : "Nice graph of commits (shows branching). Github's Insights > Networking has better UI.",
                    "Cheat" : "git log --all --decorate --graph",
                    "Class" : "command-line language-git"
                }
            ]
        },
        {
            "Subtitle" : "Git branches",
            "Intro" : "Create and delete branches",
            "Cheats" : [
                {
                    "Explanation" : "Create a completely new branch",
                    "Cheat" : "git checkout -b <branch name>",
                    "Class" : "command-line language-git"
                },
                {
                    "Explanation" : "Create a local branch and set it to trace an existing remote branch.",
                    "Cheat" : "git checkout -b <branch name> origin/<branch name>",
                    "Class" : "command-line language-git"
                },
                {
                    "Explanation" : "Remove local branch. -d needs to be capitalized (-D) if branch was unmerged.",
                    "Cheat" : "git branch -d <branch name>",
                    "Class" : "command-line language-git"
                },
                {
                    "Explanation" : "Remove remote branch tracking. Remember to remove the branch from remote repository too.",
                    "Cheat" : "git branch -rd origin/<branch name>",
                    "Class" : "command-line language-git"
                }
            ]
        },
        {
            "Subtitle" : "Merge",
            "Intro" : "Merge branches",
            "Cheats" : [
                {
                    "Explanation" : "You want to merge two branches, both of which includes changes made after split. However, you do not want the end result to have any active changes from one of the branches while both should be visible in commit history. Kind of like moving one branch to trash bin but never fully deleting it. Use 'ours' or 'theirs' to indicate the branch which you want to 'keep active'.",
                    "Cheat" : "git merge -X theirs/ours",
                    "Class" : "command-line language-git"
                }
            ]
        }
    ]
}
